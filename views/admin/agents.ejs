<%- include('partials/header') %>
            <div id="layoutSidenav_content">
                <main>
                    <div class="container-fluid px-4">
                        <h1 class="mt-4">Agents</h1>
                        <ol class="breadcrumb mb-4">
                            <li class="breadcrumb-item"><a href="/admin">Dashboard</a></li>
                            <li class="breadcrumb-item active">Agents</li>
                        </ol>
                        <!-- <div class="card mb-4">
                            <div class="card-body">
                                DataTables is a third party plugin that is used to generate the demo table below. For more information about DataTables, please visit the
                                <a target="_blank" href="https://datatables.net/">official DataTables documentation</a>
                                .
                            </div>
                        </div> -->
                        <div class="card mb-4">
                            <div class="card-header">
                                <i class="fas fa-table me-1"></i>
                                Agents
                            </div>
                            <div class="card-body">
                                <table id="datatablesSimple">
                                    <thead>
                                        <tr>
                                            <th>Name</th>
                                            <th>Email</th>
                                            <th>Phone</th>
                                            <th>Type</th>
                                            <th class="text-center" colspan="3">Action</th>
                                        </tr>
                                    </thead>
                                    <tfoot>
                                        <tr>
                                            <th>Name</th>
                                            <th>Email</th>
                                            <th>Phone</th>
                                            <th>Type</th>
                                            <th class="text-center" colspan="3">Action</th>
                                        </tr>
                                    </tfoot>
                                    <tbody>
                                        <% agents.forEach((agent) => { %>
                                            <tr>
                                                <td><%- agent.name %></td>
                                                <td><%- agent.email %></td>
                                                <td><%- agent.phone %></td>
                                                <td><%- agent.type %></td>
                                                <td class="text-center"><a href="/admin/agent/<%- agent._id %>" class="btn btn-primary">View</a></td>
                                                <td class="text-center">
                                                    <% if(agent.status === "Deactivated"){ %>
                                                        <form action="/admin/agent/status/<%- agent._id %>?_method=PUT" method="POST">
                                                            <button class="btn btn-primary">Activate</button>
                                                        </form>
                                                    <% } else { %>
                                                        <form action="/admin/agent/status/<%- agent._id %>?_method=PUT" method="POST">
                                                            <button class="btn btn-danger">Deactivate</button>
                                                        </form>
                                                    <% } %>
                                                </td>

                                                <td>
                                                    <form action="/admin/agent/<%- agent._id %>?_method=DELETE" method="POST">
                                                        <button>Activate</button>
                                                    </form>
                                                </td>
                                            </tr>
                                        <% }); %>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </main>
                
<%- include('partials/footer') %>
